(function(D,p){typeof exports=="object"&&typeof module<"u"?p(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],p):(D=typeof globalThis<"u"?globalThis:D||self,p(D.LCVueSimulatorRenderer={},D.Vue))})(this,function(D,p){"use strict";var Qs=Object.defineProperty;var Ys=(D,p,he)=>p in D?Qs(D,p,{enumerable:!0,configurable:!0,writable:!0,value:he}):D[p]=he;var Ur=(D,p,he)=>(Ys(D,typeof p!="symbol"?p+"":p,he),he);function he(){let e=window.__currentNode;return e||(e=Symbol("__currentNode"),window.__currentNode=e),e}function kt(){let e=window.__rendererContext;return e||(e=Symbol("__rendererContext"),window.__rendererContext=e),e}function Be(){const e=kt();return p.inject(e,()=>{var t;const n=((t=p.getCurrentInstance())==null?void 0:t.props)??{};return{rerender:()=>{},components:Ie(n,"components",{}),designMode:Ie(n,"designMode","live"),getNode:Ie(n,"getNode",()=>null),triggerCompGetCtx:Ie(n,"triggerCompGetCtx",()=>{})}},!0)}function Ie(e,t,n){return e[t]||e[`__${t}`]||n}var Dr=Object.defineProperty,kr=(e,t,n)=>t in e?Dr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Le=(e,t,n)=>(kr(e,typeof t!="symbol"?t+"":t,n),n);function oe(e){return e==null}function Gr(e){return e===void 0}function ye(e){return typeof e=="string"}function V(e){return!oe(e)&&typeof e=="object"}function jr(e){return typeof e=="boolean"}function ue(e){return typeof e=="function"}function Me(e){return!oe(e)&&Object.prototype.toString.call(e)==="[object Object]"}function $r(e){return V(e)&&!!e.__esModule}function Fr(e){return/\.css$/.test(e)}function Vr(e){return V(e)&&e.nodeType===Node.ELEMENT_NODE}function Ue(e){return e?V(e)&&(e.type==="JSFunction"||e.extType==="function"):!1}function Gt(e){return V(e)&&e.type==="JSSlot"}function be(e){return V(e)&&e.type==="JSExpression"&&e.extType!=="function"}function Xr(e){return V(e)&&e.type==="i18n"}function zr(e){return ye(e)}function Je(e){return e&&e.componentName}function Ze(e){return Je(e)&&e.componentName==="Slot"}function qr(e){return!!(ue(e)||V(e)&&("render"in e||"setup"in e||"template"in e))}function Wr(e){return V(e)&&e.componentName==="Component"}function Qe(e){return typeof e!="string"?e:window[e]||Jr(e)}function Jr(e){if(/^[a-z-]+$/.test(e))return p.defineComponent((t,{attrs:n,slots:r})=>()=>p.h(e,n,r))}function jt(e,t){const n=t.length;if(n<1||!e)return e;let r=0,o;for(;r<n;){const i=t[r];let u;try{o=e[i]}catch(l){u=l,o=null}if(r===0&&o==null&&i==="default"){if(u)return n===1?e:null;o=e}else if(o==null)return null;e=o,r++}return o}function Zr(e,t,n){if(!n)return Qe(t);const r=n.exportName||n.componentName||t,o=e[n.package]||r,i=Qe(o),u=n.exportName&&n.subName?n.subName.split("."):[];return n.destructuring?u.unshift(r):$r(i)&&u.unshift("default"),jt(i,u)}function Qr(e,t,n){const r={};return Object.keys(t).forEach(o=>{let i=t[o];Wr(i)?n&&(r[o]=n(i)):qr(i)?r[o]=i:(i=Zr(e,o,i),i&&(r[o]=i))}),r}function $t(e,t){return t.filter(n=>n&&n.name).reduce((n,r)=>{const{name:o,content:i,type:u}=r;if(u==="npm"){const{package:l,exportName:f,destructuring:c}=i??{};if(e[l]){const a=Qe(e[l]);a&&(n[o]=c&&f?a[f]:a)}}else u==="function"&&(n[o]=Ue(i)?new Function(`return ${i.value}`)():r.content);return n},{})}var j;(function(e){e[e.Environment=1]="Environment",e[e.Library=2]="Library",e[e.Theme=3]="Theme",e[e.Runtime=4]="Runtime",e[e.Components=5]="Components",e[e.App=6]="App"})(j||(j={}));var Yr=[j.Environment,j.Library,j.Theme,j.Runtime,j.Components,j.App],ie;(function(e){e.JSUrl="jsUrl",e.CSSUrl="cssUrl",e.CSSText="cssText",e.JSText="jsText",e.Bundle="bundle"})(ie||(ie={}));function Ft(){const e={},t=new Promise((n,r)=>{e.resolve=n,e.reject=r});return e.promise=()=>t,e}function Kr(e){const t=document.createElement("script");t.text=e,document.head.appendChild(t),document.head.removeChild(t)}function eo(e){const t=document.createElement("script");t.onload=r,t.onerror=r;const n=Ft();function r(o){t.onload=null,t.onerror=null,o.type==="load"?n.resolve():n.reject()}return t.src=e,t.async=!1,document.head.appendChild(t),n.promise()}function to(e){return e&&e.type}function no(e){return e&&e.type===ie.Bundle}function ro(e,t,n,r){return t?{type:e,content:t,level:n,id:r}:null}function Vt(e,t,n,r){for(const o of n)Ye(e,t,o,r)}function Ye(e,t,n,r){if(!n)return;if(Array.isArray(n))return Vt(e,t,n,r);if(no(n)){if(n.assets){Array.isArray(n.assets)?Vt(e,t,n.assets,n.level||r):Ye(e,t,n.assets,n.level||r);return}return}to(n)||(n=ro(Fr(n)?ie.CSSUrl:ie.JSUrl,n,r));let o=n.level||r;(!o||j[o]==null)&&(o=j.App),n.level=o,n.type===ie.CSSUrl||n.type==ie.CSSText?t[o].push(n):e[o].push(n)}class Xt{constructor(t,n){Le(this,"lastContent"),Le(this,"lastUrl"),Le(this,"placeholder"),this.level=t,this.id=n;let r=null;if(n&&(r=document.head.querySelector(`style[data-id="${n}"]`)),!r){r=document.createTextNode("");const o=document.head.querySelector(`meta[level="${t}"]`);o?document.head.insertBefore(r,o):document.head.appendChild(r)}this.placeholder=r}applyText(t){if(this.lastContent===t)return;this.lastContent=t,this.lastUrl=void 0;const n=document.createElement("style");n.setAttribute("type","text/css"),this.id&&n.setAttribute("data-id",this.id),n.appendChild(document.createTextNode(t)),document.head.insertBefore(n,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=n}applyUrl(t){if(this.lastUrl===t)return;this.lastContent=void 0,this.lastUrl=t;const n=document.createElement("link");n.onload=o,n.onerror=o;const r=Ft();function o(i){n.onload=null,n.onerror=null,i.type==="load"?r.resolve():r.reject()}return n.href=t,n.rel="stylesheet",this.id&&n.setAttribute("data-id",this.id),document.head.insertBefore(n,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=n,r.promise()}}class oo{constructor(){Le(this,"stylePoints",new Map)}async load(t){const n={},r={};Yr.forEach(u=>{n[u]=[],r[u]=[]}),Ye(r,n,t);const o=n[j.Environment].concat(n[j.Library],n[j.Theme],n[j.Runtime],n[j.App]),i=r[j.Environment].concat(r[j.Library],r[j.Theme],r[j.Runtime],r[j.App]);await Promise.all(o.map(({content:u,level:l,type:f,id:c})=>this.loadStyle(u,l,f===ie.CSSUrl,c))),await Promise.all(i.map(({content:u,type:l})=>this.loadScript(u,l===ie.JSUrl)))}loadStyle(t,n,r,o){if(!t)return;let i;return o?(i=this.stylePoints.get(o),i||(i=new Xt(n,o),this.stylePoints.set(o,i))):i=new Xt(n),r?i.applyUrl(t):i.applyText(t)}loadScript(t,n){if(t)return n?eo(t):Kr(t)}async loadAsyncLibrary(t){const n=[],r=[];for(const o in t)t[o].async&&(n.push(window[t[o].library]),r.push(t[o].library));await Promise.all(n).then(o=>{o.length>0&&o.map((i,u)=>(window[r[u]]=i,i))})}}function zt(e){return e&&e.replace(/-[a-zA-Z]/g,t=>t.charAt(1).toLocaleUpperCase())}var qt;(function(e){e.Initial="init",e.Loading="loading",e.Loaded="loaded",e.Error="error"})(qt||(qt={}));var Wt;(function(e){e.ADDED="added",e.DELETED="deleted",e.MODIFIED="modified",e.COMPOSITE="composite"})(Wt||(Wt={}));var Jt;(function(e){e.Children="Children",e.Prop="Prop"})(Jt||(Jt={}));var Zt;(function(e){e.Children="Children",e.Prop="Prop"})(Zt||(Zt={}));var Qt;(function(e){e[e.REPAINT=0]="REPAINT"})(Qt||(Qt={}));var Yt;(function(e){e[e.REPAINT=0]="REPAINT"})(Yt||(Yt={}));var Ke;(function(e){e.Render="render",e.Serilize="serilize",e.Save="save",e.Clone="clone",e.Init="init",e.Upgrade="upgrade"})(Ke||(Ke={}));var Kt;(function(e){e.Render="render",e.Serilize="serilize",e.Save="save",e.Clone="clone",e.Init="init",e.Upgrade="upgrade"})(Kt||(Kt={}));var De;(function(e){e.Node="node",e.NodeData="nodedata"})(De||(De={}));var en;(function(e){e[e.Node=De.Node]="Node",e[e.NodeData=De.NodeData]="NodeData"})(en||(en={}));var tn;(function(e){e.SET_VALUE="SET_VALUE",e.SUB_VALUE_CHANGE="SUB_VALUE_CHANGE"})(tn||(tn={}));var nn;(function(e){e.SET_VALUE="SET_VALUE",e.SUB_VALUE_CHANGE="SUB_VALUE_CHANGE"})(nn||(nn={}));var rn={},io={get exports(){return rn},set exports(e){rn=e}},U={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var et,on;function so(){if(on)return et;on=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function o(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var u={},l=0;l<10;l++)u["_"+String.fromCharCode(l)]=l;var f=Object.getOwnPropertyNames(u).map(function(a){return u[a]});if(f.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return et=o()?Object.assign:function(i,u){for(var l,f=r(i),c,a=1;a<arguments.length;a++){l=Object(arguments[a]);for(var d in l)t.call(l,d)&&(f[d]=l[d]);if(e){c=e(l);for(var h=0;h<c.length;h++)n.call(l,c[h])&&(f[c[h]]=l[c[h]])}}return f},et}/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sn;function ao(){if(sn)return U;sn=1;var e=so(),t=typeof Symbol=="function"&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,o=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,u=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,f=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.forward_ref"):60112,a=t?Symbol.for("react.suspense"):60113,d=t?Symbol.for("react.memo"):60115,h=t?Symbol.for("react.lazy"):60116,_=typeof Symbol=="function"&&Symbol.iterator;function g(s){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+s,v=1;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+s+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function E(s,m,v){this.props=s,this.context=m,this.refs=b,this.updater=v||x}E.prototype.isReactComponent={},E.prototype.setState=function(s,m){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error(g(85));this.updater.enqueueSetState(this,s,m,"setState")},E.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function y(){}y.prototype=E.prototype;function S(s,m,v){this.props=s,this.context=m,this.refs=b,this.updater=v||x}var P=S.prototype=new y;P.constructor=S,e(P,E.prototype),P.isPureReactComponent=!0;var R={current:null},N=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function F(s,m,v){var C,T={},H=null,w=null;if(m!=null)for(C in m.ref!==void 0&&(w=m.ref),m.key!==void 0&&(H=""+m.key),m)N.call(m,C)&&!O.hasOwnProperty(C)&&(T[C]=m[C]);var A=arguments.length-2;if(A===1)T.children=v;else if(1<A){for(var L=Array(A),W=0;W<A;W++)L[W]=arguments[W+2];T.children=L}if(s&&s.defaultProps)for(C in A=s.defaultProps,A)T[C]===void 0&&(T[C]=A[C]);return{$$typeof:n,type:s,key:H,ref:w,props:T,_owner:R.current}}function J(s,m){return{$$typeof:n,type:s.type,key:m,ref:s.ref,props:s.props,_owner:s._owner}}function ee(s){return typeof s=="object"&&s!==null&&s.$$typeof===n}function Re(s){var m={"=":"=0",":":"=2"};return"$"+(""+s).replace(/[=:]/g,function(v){return m[v]})}var X=/\/+/g,Y=[];function te(s,m,v,C){if(Y.length){var T=Y.pop();return T.result=s,T.keyPrefix=m,T.func=v,T.context=C,T.count=0,T}return{result:s,keyPrefix:m,func:v,context:C,count:0}}function de(s){s.result=null,s.keyPrefix=null,s.func=null,s.context=null,s.count=0,10>Y.length&&Y.push(s)}function ne(s,m,v,C){var T=typeof s;(T==="undefined"||T==="boolean")&&(s=null);var H=!1;if(s===null)H=!0;else switch(T){case"string":case"number":H=!0;break;case"object":switch(s.$$typeof){case n:case r:H=!0}}if(H)return v(C,s,m===""?"."+me(s,0):m),1;if(H=0,m=m===""?".":m+":",Array.isArray(s))for(var w=0;w<s.length;w++){T=s[w];var A=m+me(T,w);H+=ne(T,A,v,C)}else if(s===null||typeof s!="object"?A=null:(A=_&&s[_]||s["@@iterator"],A=typeof A=="function"?A:null),typeof A=="function")for(s=A.call(s),w=0;!(T=s.next()).done;)T=T.value,A=m+me(T,w++),H+=ne(T,A,v,C);else if(T==="object")throw v=""+s,Error(g(31,v==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":v,""));return H}function re(s,m,v){return s==null?0:ne(s,"",m,v)}function me(s,m){return typeof s=="object"&&s!==null&&s.key!=null?Re(s.key):m.toString(36)}function Oe(s,m){s.func.call(s.context,m,s.count++)}function qe(s,m,v){var C=s.result,T=s.keyPrefix;s=s.func.call(s.context,m,s.count++),Array.isArray(s)?ge(s,C,v,function(H){return H}):s!=null&&(ee(s)&&(s=J(s,T+(!s.key||m&&m.key===s.key?"":(""+s.key).replace(X,"$&/")+"/")+v)),C.push(s))}function ge(s,m,v,C,T){var H="";v!=null&&(H=(""+v).replace(X,"$&/")+"/"),m=te(m,H,C,T),re(s,qe,m),de(m)}var Ae={current:null};function Q(){var s=Ae.current;if(s===null)throw Error(g(321));return s}var We={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:R,IsSomeRendererActing:{current:!1},assign:e};return U.Children={map:function(s,m,v){if(s==null)return s;var C=[];return ge(s,C,null,m,v),C},forEach:function(s,m,v){if(s==null)return s;m=te(null,null,m,v),re(s,Oe,m),de(m)},count:function(s){return re(s,function(){return null},null)},toArray:function(s){var m=[];return ge(s,m,null,function(v){return v}),m},only:function(s){if(!ee(s))throw Error(g(143));return s}},U.Component=E,U.Fragment=o,U.Profiler=u,U.PureComponent=S,U.StrictMode=i,U.Suspense=a,U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=We,U.cloneElement=function(s,m,v){if(s==null)throw Error(g(267,s));var C=e({},s.props),T=s.key,H=s.ref,w=s._owner;if(m!=null){if(m.ref!==void 0&&(H=m.ref,w=R.current),m.key!==void 0&&(T=""+m.key),s.type&&s.type.defaultProps)var A=s.type.defaultProps;for(L in m)N.call(m,L)&&!O.hasOwnProperty(L)&&(C[L]=m[L]===void 0&&A!==void 0?A[L]:m[L])}var L=arguments.length-2;if(L===1)C.children=v;else if(1<L){A=Array(L);for(var W=0;W<L;W++)A[W]=arguments[W+2];C.children=A}return{$$typeof:n,type:s.type,key:T,ref:H,props:C,_owner:w}},U.createContext=function(s,m){return m===void 0&&(m=null),s={$$typeof:f,_calculateChangedBits:m,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null},s.Provider={$$typeof:l,_context:s},s.Consumer=s},U.createElement=F,U.createFactory=function(s){var m=F.bind(null,s);return m.type=s,m},U.createRef=function(){return{current:null}},U.forwardRef=function(s){return{$$typeof:c,render:s}},U.isValidElement=ee,U.lazy=function(s){return{$$typeof:h,_ctor:s,_status:-1,_result:null}},U.memo=function(s,m){return{$$typeof:d,type:s,compare:m===void 0?null:m}},U.useCallback=function(s,m){return Q().useCallback(s,m)},U.useContext=function(s,m){return Q().useContext(s,m)},U.useDebugValue=function(){},U.useEffect=function(s,m){return Q().useEffect(s,m)},U.useImperativeHandle=function(s,m,v){return Q().useImperativeHandle(s,m,v)},U.useLayoutEffect=function(s,m){return Q().useLayoutEffect(s,m)},U.useMemo=function(s,m){return Q().useMemo(s,m)},U.useReducer=function(s,m,v){return Q().useReducer(s,m,v)},U.useRef=function(s){return Q().useRef(s)},U.useState=function(s){return Q().useState(s)},U.version="16.14.0",U}(function(e){e.exports=ao()})(io);function tt(e){return e.export(Ke.Render)}var nt=function(e,t){return nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},nt(e,t)};function ke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nt(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var M=function(){return M=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},M.apply(this,arguments)};function uo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function rt(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var B;(function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(B||(B={}));var k;(function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"})(k||(k={}));var Ee;(function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"})(Ee||(Ee={}));function an(e){return e.type===k.literal}function lo(e){return e.type===k.argument}function un(e){return e.type===k.number}function ln(e){return e.type===k.date}function cn(e){return e.type===k.time}function hn(e){return e.type===k.select}function fn(e){return e.type===k.plural}function co(e){return e.type===k.pound}function pn(e){return e.type===k.tag}function dn(e){return!!(e&&typeof e=="object"&&e.type===Ee.number)}function ot(e){return!!(e&&typeof e=="object"&&e.type===Ee.dateTime)}var mn=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,ho=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function fo(e){var t={};return e.replace(ho,function(n){var r=n.length;switch(n[0]){case"G":t.era=r===4?"long":r===5?"narrow":"short";break;case"y":t.year=r===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=r===4?"short":r===5?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][r-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][r-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][r-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][r-1];break;case"s":t.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),t}var po=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function mo(e){if(e.length===0)throw new Error("Number skeleton cannot be empty");for(var t=e.split(po).filter(function(h){return h.length>0}),n=[],r=0,o=t;r<o.length;r++){var i=o[r],u=i.split("/");if(u.length===0)throw new Error("Invalid number skeleton");for(var l=u[0],f=u.slice(1),c=0,a=f;c<a.length;c++){var d=a[c];if(d.length===0)throw new Error("Invalid number skeleton")}n.push({stem:l,options:f})}return n}function go(e){return e.replace(/^(.*?)-/,"")}var gn=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,yn=/^(@+)?(\+|#+)?[rs]?$/g,yo=/(\*)(0+)|(#+)(0+)|(0+)/g,bn=/^(0+)$/;function En(e){var t={};return e[e.length-1]==="r"?t.roundingPriority="morePrecision":e[e.length-1]==="s"&&(t.roundingPriority="lessPrecision"),e.replace(yn,function(n,r,o){return typeof o!="string"?(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length):o==="+"?t.minimumSignificantDigits=r.length:r[0]==="#"?t.maximumSignificantDigits=r.length:(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length+(typeof o=="string"?o.length:0)),""}),t}function vn(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function bo(e){var t;if(e[0]==="E"&&e[1]==="E"?(t={notation:"engineering"},e=e.slice(2)):e[0]==="E"&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if(n==="+!"?(t.signDisplay="always",e=e.slice(2)):n==="+?"&&(t.signDisplay="exceptZero",e=e.slice(2)),!bn.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function _n(e){var t={},n=vn(e);return n||t}function Eo(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n];switch(o.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=o.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=go(o.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=M(M(M({},t),{notation:"scientific"}),o.options.reduce(function(f,c){return M(M({},f),_n(c))},{}));continue;case"engineering":t=M(M(M({},t),{notation:"engineering"}),o.options.reduce(function(f,c){return M(M({},f),_n(c))},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(o.options[0]);continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(yo,function(f,c,a,d,h,_){if(c)t.minimumIntegerDigits=a.length;else{if(d&&h)throw new Error("We currently do not support maximum integer digits");if(_)throw new Error("We currently do not support exact integer digits")}return""});continue}if(bn.test(o.stem)){t.minimumIntegerDigits=o.stem.length;continue}if(gn.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(gn,function(f,c,a,d,h,_){return a==="*"?t.minimumFractionDigits=c.length:d&&d[0]==="#"?t.maximumFractionDigits=d.length:h&&_?(t.minimumFractionDigits=h.length,t.maximumFractionDigits=h.length+_.length):(t.minimumFractionDigits=c.length,t.maximumFractionDigits=c.length),""});var i=o.options[0];i==="w"?t=M(M({},t),{trailingZeroDisplay:"stripIfInteger"}):i&&(t=M(M({},t),En(i)));continue}if(yn.test(o.stem)){t=M(M({},t),En(o.stem));continue}var u=vn(o.stem);u&&(t=M(M({},t),u));var l=bo(o.stem);l&&(t=M(M({},t),l))}return t}var Ge={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]};function vo(e,t){for(var n="",r=0;r<e.length;r++){var o=e.charAt(r);if(o==="j"){for(var i=0;r+1<e.length&&e.charAt(r+1)===o;)i++,r++;var u=1+(i&1),l=i<2?1:3+(i>>1),f="a",c=_o(t);for((c=="H"||c=="k")&&(l=0);l-- >0;)n+=f;for(;u-- >0;)n=c+n}else o==="J"?n+="H":n+=o}return n}function _o(e){var t=e.hourCycle;if(t===void 0&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=e.language,r;n!=="root"&&(r=e.maximize().region);var o=Ge[r||""]||Ge[n||""]||Ge["".concat(n,"-001")]||Ge["001"];return o[0]}var it,xo=new RegExp("^".concat(mn.source,"*")),So=new RegExp("".concat(mn.source,"*$"));function I(e,t){return{start:e,end:t}}var Co=!!String.prototype.startsWith,Ro=!!String.fromCodePoint,Ao=!!Object.fromEntries,Po=!!String.prototype.codePointAt,To=!!String.prototype.trimStart,No=!!String.prototype.trimEnd,wo=!!Number.isSafeInteger,Ho=wo?Number.isSafeInteger:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},st=!0;try{var Oo=Rn("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");st=((it=Oo.exec("a"))===null||it===void 0?void 0:it[0])==="a"}catch{st=!1}var xn=Co?function(t,n,r){return t.startsWith(n,r)}:function(t,n,r){return t.slice(r,r+n.length)===n},at=Ro?String.fromCodePoint:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",o=t.length,i=0,u;o>i;){if(u=t[i++],u>1114111)throw RangeError(u+" is not a valid code point");r+=u<65536?String.fromCharCode(u):String.fromCharCode(((u-=65536)>>10)+55296,u%1024+56320)}return r},Sn=Ao?Object.fromEntries:function(t){for(var n={},r=0,o=t;r<o.length;r++){var i=o[r],u=i[0],l=i[1];n[u]=l}return n},Cn=Po?function(t,n){return t.codePointAt(n)}:function(t,n){var r=t.length;if(!(n<0||n>=r)){var o=t.charCodeAt(n),i;return o<55296||o>56319||n+1===r||(i=t.charCodeAt(n+1))<56320||i>57343?o:(o-55296<<10)+(i-56320)+65536}},Bo=To?function(t){return t.trimStart()}:function(t){return t.replace(xo,"")},Io=No?function(t){return t.trimEnd()}:function(t){return t.replace(So,"")};function Rn(e,t){return new RegExp(e,t)}var ut;if(st){var An=Rn("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");ut=function(t,n){var r;An.lastIndex=n;var o=An.exec(t);return(r=o[1])!==null&&r!==void 0?r:""}}else ut=function(t,n){for(var r=[];;){var o=Cn(t,n);if(o===void 0||Pn(o)||Do(o))break;r.push(o),n+=o>=65536?2:1}return at.apply(void 0,r)};var Lo=function(){function e(t,n){n===void 0&&(n={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.locale=n.locale,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}return e.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(t,n,r){for(var o=[];!this.isEOF();){var i=this.char();if(i===123){var u=this.parseArgument(t,r);if(u.err)return u;o.push(u.val)}else{if(i===125&&t>0)break;if(i===35&&(n==="plural"||n==="selectordinal")){var l=this.clonePosition();this.bump(),o.push({type:k.pound,location:I(l,this.clonePosition())})}else if(i===60&&!this.ignoreTag&&this.peek()===47){if(r)break;return this.error(B.UNMATCHED_CLOSING_TAG,I(this.clonePosition(),this.clonePosition()))}else if(i===60&&!this.ignoreTag&&lt(this.peek()||0)){var u=this.parseTag(t,n);if(u.err)return u;o.push(u.val)}else{var u=this.parseLiteral(t,n);if(u.err)return u;o.push(u.val)}}}return{val:o,err:null}},e.prototype.parseTag=function(t,n){var r=this.clonePosition();this.bump();var o=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:k.literal,value:"<".concat(o,"/>"),location:I(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(t+1,n,!0);if(i.err)return i;var u=i.val,l=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!lt(this.char()))return this.error(B.INVALID_TAG,I(l,this.clonePosition()));var f=this.clonePosition(),c=this.parseTagName();return o!==c?this.error(B.UNMATCHED_CLOSING_TAG,I(f,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:k.tag,value:o,children:u,location:I(r,this.clonePosition())},err:null}:this.error(B.INVALID_TAG,I(l,this.clonePosition())))}else return this.error(B.UNCLOSED_TAG,I(r,this.clonePosition()))}else return this.error(B.INVALID_TAG,I(r,this.clonePosition()))},e.prototype.parseTagName=function(){var t=this.offset();for(this.bump();!this.isEOF()&&Uo(this.char());)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(t,n){for(var r=this.clonePosition(),o="";;){var i=this.tryParseQuote(n);if(i){o+=i;continue}var u=this.tryParseUnquoted(t,n);if(u){o+=u;continue}var l=this.tryParseLeftAngleBracket();if(l){o+=l;continue}break}var f=I(r,this.clonePosition());return{val:{type:k.literal,value:o,location:f},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!Mo(this.peek()||0))?(this.bump(),"<"):null},e.prototype.tryParseQuote=function(t){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(t==="plural"||t==="selectordinal")break;return null;default:return null}this.bump();var n=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(r===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(r);this.bump()}return at.apply(void 0,n)},e.prototype.tryParseUnquoted=function(t,n){if(this.isEOF())return null;var r=this.char();return r===60||r===123||r===35&&(n==="plural"||n==="selectordinal")||r===125&&t>0?null:(this.bump(),at(r))},e.prototype.parseArgument=function(t,n){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(B.EXPECT_ARGUMENT_CLOSING_BRACE,I(r,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(B.EMPTY_ARGUMENT,I(r,this.clonePosition()));var o=this.parseIdentifierIfPossible().value;if(!o)return this.error(B.MALFORMED_ARGUMENT,I(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(B.EXPECT_ARGUMENT_CLOSING_BRACE,I(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:k.argument,value:o,location:I(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(B.EXPECT_ARGUMENT_CLOSING_BRACE,I(r,this.clonePosition())):this.parseArgumentOptions(t,n,o,r);default:return this.error(B.MALFORMED_ARGUMENT,I(r,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),n=this.offset(),r=ut(this.message,n),o=n+r.length;this.bumpTo(o);var i=this.clonePosition(),u=I(t,i);return{value:r,location:u}},e.prototype.parseArgumentOptions=function(t,n,r,o){var i,u=this.clonePosition(),l=this.parseIdentifierIfPossible().value,f=this.clonePosition();switch(l){case"":return this.error(B.EXPECT_ARGUMENT_TYPE,I(u,f));case"number":case"date":case"time":{this.bumpSpace();var c=null;if(this.bumpIf(",")){this.bumpSpace();var a=this.clonePosition(),d=this.parseSimpleArgStyleIfPossible();if(d.err)return d;var h=Io(d.val);if(h.length===0)return this.error(B.EXPECT_ARGUMENT_STYLE,I(this.clonePosition(),this.clonePosition()));var _=I(a,this.clonePosition());c={style:h,styleLocation:_}}var g=this.tryParseArgumentClose(o);if(g.err)return g;var x=I(o,this.clonePosition());if(c&&xn(c==null?void 0:c.style,"::",0)){var b=Bo(c.style.slice(2));if(l==="number"){var d=this.parseNumberSkeletonFromString(b,c.styleLocation);return d.err?d:{val:{type:k.number,value:r,location:x,style:d.val},err:null}}else{if(b.length===0)return this.error(B.EXPECT_DATE_TIME_SKELETON,x);var E=b;this.locale&&(E=vo(b,this.locale));var h={type:Ee.dateTime,pattern:E,location:c.styleLocation,parsedOptions:this.shouldParseSkeletons?fo(E):{}},y=l==="date"?k.date:k.time;return{val:{type:y,value:r,location:x,style:h},err:null}}}return{val:{type:l==="number"?k.number:l==="date"?k.date:k.time,value:r,location:x,style:(i=c==null?void 0:c.style)!==null&&i!==void 0?i:null},err:null}}case"plural":case"selectordinal":case"select":{var S=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(B.EXPECT_SELECT_ARGUMENT_OPTIONS,I(S,M({},S)));this.bumpSpace();var P=this.parseIdentifierIfPossible(),R=0;if(l!=="select"&&P.value==="offset"){if(!this.bumpIf(":"))return this.error(B.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,I(this.clonePosition(),this.clonePosition()));this.bumpSpace();var d=this.tryParseDecimalInteger(B.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,B.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(d.err)return d;this.bumpSpace(),P=this.parseIdentifierIfPossible(),R=d.val}var N=this.tryParsePluralOrSelectOptions(t,l,n,P);if(N.err)return N;var g=this.tryParseArgumentClose(o);if(g.err)return g;var O=I(o,this.clonePosition());return l==="select"?{val:{type:k.select,value:r,options:Sn(N.val),location:O},err:null}:{val:{type:k.plural,value:r,options:Sn(N.val),offset:R,pluralType:l==="plural"?"cardinal":"ordinal",location:O},err:null}}default:return this.error(B.INVALID_ARGUMENT_TYPE,I(u,f))}},e.prototype.tryParseArgumentClose=function(t){return this.isEOF()||this.char()!==125?this.error(B.EXPECT_ARGUMENT_CLOSING_BRACE,I(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,n=this.clonePosition();!this.isEOF();){var r=this.char();switch(r){case 39:{this.bump();var o=this.clonePosition();if(!this.bumpUntil("'"))return this.error(B.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,I(o,this.clonePosition()));this.bump();break}case 123:{t+=1,this.bump();break}case 125:{if(t>0)t-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(n.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(t,n){var r=[];try{r=mo(t)}catch{return this.error(B.INVALID_NUMBER_SKELETON,n)}return{val:{type:Ee.number,tokens:r,location:n,parsedOptions:this.shouldParseSkeletons?Eo(r):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(t,n,r,o){for(var i,u=!1,l=[],f=new Set,c=o.value,a=o.location;;){if(c.length===0){var d=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){var h=this.tryParseDecimalInteger(B.EXPECT_PLURAL_ARGUMENT_SELECTOR,B.INVALID_PLURAL_ARGUMENT_SELECTOR);if(h.err)return h;a=I(d,this.clonePosition()),c=this.message.slice(d.offset,this.offset())}else break}if(f.has(c))return this.error(n==="select"?B.DUPLICATE_SELECT_ARGUMENT_SELECTOR:B.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,a);c==="other"&&(u=!0),this.bumpSpace();var _=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?B.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:B.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,I(this.clonePosition(),this.clonePosition()));var g=this.parseMessage(t+1,n,r);if(g.err)return g;var x=this.tryParseArgumentClose(_);if(x.err)return x;l.push([c,{value:g.val,location:I(_,this.clonePosition())}]),f.add(c),this.bumpSpace(),i=this.parseIdentifierIfPossible(),c=i.value,a=i.location}return l.length===0?this.error(n==="select"?B.EXPECT_SELECT_ARGUMENT_SELECTOR:B.EXPECT_PLURAL_ARGUMENT_SELECTOR,I(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!u?this.error(B.MISSING_OTHER_CLAUSE,I(this.clonePosition(),this.clonePosition())):{val:l,err:null}},e.prototype.tryParseDecimalInteger=function(t,n){var r=1,o=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var i=!1,u=0;!this.isEOF();){var l=this.char();if(l>=48&&l<=57)i=!0,u=u*10+(l-48),this.bump();else break}var f=I(o,this.clonePosition());return i?(u*=r,Ho(u)?{val:u,err:null}:this.error(n,f)):this.error(t,f)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var n=Cn(this.message,t);if(n===void 0)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return n},e.prototype.error=function(t,n){return{val:null,err:{kind:t,message:this.message,location:n}}},e.prototype.bump=function(){if(!this.isEOF()){var t=this.char();t===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},e.prototype.bumpIf=function(t){if(xn(this.message,t,this.offset())){for(var n=0;n<t.length;n++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(t){var n=this.offset(),r=this.message.indexOf(t,n);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var n=this.offset();if(n===t)break;if(n>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Pn(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),n=this.offset(),r=this.message.charCodeAt(n+(t>=65536?2:1));return r??null},e}();function lt(e){return e>=97&&e<=122||e>=65&&e<=90}function Mo(e){return lt(e)||e===47}function Uo(e){return e===45||e===46||e>=48&&e<=57||e===95||e>=97&&e<=122||e>=65&&e<=90||e==183||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function Pn(e){return e>=9&&e<=13||e===32||e===133||e>=8206&&e<=8207||e===8232||e===8233}function Do(e){return e>=33&&e<=35||e===36||e>=37&&e<=39||e===40||e===41||e===42||e===43||e===44||e===45||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||e===91||e===92||e===93||e===94||e===96||e===123||e===124||e===125||e===126||e===161||e>=162&&e<=165||e===166||e===167||e===169||e===171||e===172||e===174||e===176||e===177||e===182||e===187||e===191||e===215||e===247||e>=8208&&e<=8213||e>=8214&&e<=8215||e===8216||e===8217||e===8218||e>=8219&&e<=8220||e===8221||e===8222||e===8223||e>=8224&&e<=8231||e>=8240&&e<=8248||e===8249||e===8250||e>=8251&&e<=8254||e>=8257&&e<=8259||e===8260||e===8261||e===8262||e>=8263&&e<=8273||e===8274||e===8275||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||e===8608||e>=8609&&e<=8610||e===8611||e>=8612&&e<=8613||e===8614||e>=8615&&e<=8621||e===8622||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||e===8658||e===8659||e===8660||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||e===8968||e===8969||e===8970||e===8971||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||e===9001||e===9002||e>=9003&&e<=9083||e===9084||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||e===9655||e>=9656&&e<=9664||e===9665||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||e===9839||e>=9840&&e<=10087||e===10088||e===10089||e===10090||e===10091||e===10092||e===10093||e===10094||e===10095||e===10096||e===10097||e===10098||e===10099||e===10100||e===10101||e>=10132&&e<=10175||e>=10176&&e<=10180||e===10181||e===10182||e>=10183&&e<=10213||e===10214||e===10215||e===10216||e===10217||e===10218||e===10219||e===10220||e===10221||e===10222||e===10223||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||e===10627||e===10628||e===10629||e===10630||e===10631||e===10632||e===10633||e===10634||e===10635||e===10636||e===10637||e===10638||e===10639||e===10640||e===10641||e===10642||e===10643||e===10644||e===10645||e===10646||e===10647||e===10648||e>=10649&&e<=10711||e===10712||e===10713||e===10714||e===10715||e>=10716&&e<=10747||e===10748||e===10749||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||e===11158||e>=11159&&e<=11263||e>=11776&&e<=11777||e===11778||e===11779||e===11780||e===11781||e>=11782&&e<=11784||e===11785||e===11786||e===11787||e===11788||e===11789||e>=11790&&e<=11798||e===11799||e>=11800&&e<=11801||e===11802||e===11803||e===11804||e===11805||e>=11806&&e<=11807||e===11808||e===11809||e===11810||e===11811||e===11812||e===11813||e===11814||e===11815||e===11816||e===11817||e>=11818&&e<=11822||e===11823||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||e===11840||e===11841||e===11842||e>=11843&&e<=11855||e>=11856&&e<=11857||e===11858||e>=11859&&e<=11903||e>=12289&&e<=12291||e===12296||e===12297||e===12298||e===12299||e===12300||e===12301||e===12302||e===12303||e===12304||e===12305||e>=12306&&e<=12307||e===12308||e===12309||e===12310||e===12311||e===12312||e===12313||e===12314||e===12315||e===12316||e===12317||e>=12318&&e<=12319||e===12320||e===12336||e===64830||e===64831||e>=65093&&e<=65094}function ct(e){e.forEach(function(t){if(delete t.location,hn(t)||fn(t))for(var n in t.options)delete t.options[n].location,ct(t.options[n].value);else un(t)&&dn(t.style)||(ln(t)||cn(t))&&ot(t.style)?delete t.style.location:pn(t)&&ct(t.children)})}function ko(e,t){t===void 0&&(t={}),t=M({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new Lo(e,t).parse();if(n.err){var r=SyntaxError(B[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return t!=null&&t.captureLocation||ct(n.val),n.val}function ht(e,t){var n=t&&t.cache?t.cache:Xo,r=t&&t.serializer?t.serializer:Vo,o=t&&t.strategy?t.strategy:jo;return o(e,{cache:n,serializer:r})}function Go(e){return e==null||typeof e=="number"||typeof e=="boolean"}function Tn(e,t,n,r){var o=Go(r)?r:n(r),i=t.get(o);return typeof i>"u"&&(i=e.call(this,r),t.set(o,i)),i}function Nn(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return typeof i>"u"&&(i=e.apply(this,r),t.set(o,i)),i}function ft(e,t,n,r,o){return n.bind(t,e,r,o)}function jo(e,t){var n=e.length===1?Tn:Nn;return ft(e,this,n,t.cache.create(),t.serializer)}function $o(e,t){return ft(e,this,Nn,t.cache.create(),t.serializer)}function Fo(e,t){return ft(e,this,Tn,t.cache.create(),t.serializer)}var Vo=function(){return JSON.stringify(arguments)};function pt(){this.cache=Object.create(null)}pt.prototype.get=function(e){return this.cache[e]},pt.prototype.set=function(e,t){this.cache[e]=t};var Xo={create:function(){return new pt}},dt={variadic:$o,monadic:Fo},ve;(function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"})(ve||(ve={}));var je=function(e){ke(t,e);function t(n,r,o){var i=e.call(this,n)||this;return i.code=r,i.originalMessage=o,i}return t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),wn=function(e){ke(t,e);function t(n,r,o,i){return e.call(this,'Invalid values for "'.concat(n,'": "').concat(r,'". Options are "').concat(Object.keys(o).join('", "'),'"'),ve.INVALID_VALUE,i)||this}return t}(je),zo=function(e){ke(t,e);function t(n,r,o){return e.call(this,'Value for "'.concat(n,'" must be of type ').concat(r),ve.INVALID_VALUE,o)||this}return t}(je),qo=function(e){ke(t,e);function t(n,r){return e.call(this,'The intl string context variable "'.concat(n,'" was not provided to the string "').concat(r,'"'),ve.MISSING_VALUE,r)||this}return t}(je),z;(function(e){e[e.literal=0]="literal",e[e.object=1]="object"})(z||(z={}));function Wo(e){return e.length<2?e:e.reduce(function(t,n){var r=t[t.length-1];return!r||r.type!==z.literal||n.type!==z.literal?t.push(n):r.value+=n.value,t},[])}function Jo(e){return typeof e=="function"}function $e(e,t,n,r,o,i,u){if(e.length===1&&an(e[0]))return[{type:z.literal,value:e[0].value}];for(var l=[],f=0,c=e;f<c.length;f++){var a=c[f];if(an(a)){l.push({type:z.literal,value:a.value});continue}if(co(a)){typeof i=="number"&&l.push({type:z.literal,value:n.getNumberFormat(t).format(i)});continue}var d=a.value;if(!(o&&d in o))throw new qo(d,u);var h=o[d];if(lo(a)){(!h||typeof h=="string"||typeof h=="number")&&(h=typeof h=="string"||typeof h=="number"?String(h):""),l.push({type:typeof h=="string"?z.literal:z.object,value:h});continue}if(ln(a)){var _=typeof a.style=="string"?r.date[a.style]:ot(a.style)?a.style.parsedOptions:void 0;l.push({type:z.literal,value:n.getDateTimeFormat(t,_).format(h)});continue}if(cn(a)){var _=typeof a.style=="string"?r.time[a.style]:ot(a.style)?a.style.parsedOptions:r.time.medium;l.push({type:z.literal,value:n.getDateTimeFormat(t,_).format(h)});continue}if(un(a)){var _=typeof a.style=="string"?r.number[a.style]:dn(a.style)?a.style.parsedOptions:void 0;_&&_.scale&&(h=h*(_.scale||1)),l.push({type:z.literal,value:n.getNumberFormat(t,_).format(h)});continue}if(pn(a)){var g=a.children,x=a.value,b=o[x];if(!Jo(b))throw new zo(x,"function",u);var E=$e(g,t,n,r,o,i),y=b(E.map(function(R){return R.value}));Array.isArray(y)||(y=[y]),l.push.apply(l,y.map(function(R){return{type:typeof R=="string"?z.literal:z.object,value:R}}))}if(hn(a)){var S=a.options[h]||a.options.other;if(!S)throw new wn(a.value,h,Object.keys(a.options),u);l.push.apply(l,$e(S.value,t,n,r,o));continue}if(fn(a)){var S=a.options["=".concat(h)];if(!S){if(!Intl.PluralRules)throw new je(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,ve.MISSING_INTL_API,u);var P=n.getPluralRules(t,{type:a.pluralType}).select(h-(a.offset||0));S=a.options[P]||a.options.other}if(!S)throw new wn(a.value,h,Object.keys(a.options),u);l.push.apply(l,$e(S.value,t,n,r,o,h-(a.offset||0)));continue}}return Wo(l)}function Zo(e,t){return t?M(M(M({},e||{}),t||{}),Object.keys(e).reduce(function(n,r){return n[r]=M(M({},e[r]),t[r]||{}),n},{})):e}function Qo(e,t){return t?Object.keys(e).reduce(function(n,r){return n[r]=Zo(e[r],t[r]),n},M({},e)):e}function mt(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function Yo(e){return e===void 0&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:ht(function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((t=Intl.NumberFormat).bind.apply(t,rt([void 0],n,!1)))},{cache:mt(e.number),strategy:dt.variadic}),getDateTimeFormat:ht(function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((t=Intl.DateTimeFormat).bind.apply(t,rt([void 0],n,!1)))},{cache:mt(e.dateTime),strategy:dt.variadic}),getPluralRules:ht(function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((t=Intl.PluralRules).bind.apply(t,rt([void 0],n,!1)))},{cache:mt(e.pluralRules),strategy:dt.variadic})}}var Ko=function(){function e(t,n,r,o){n===void 0&&(n=e.defaultLocale);var i=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(f){var c=i.formatToParts(f);if(c.length===1)return c[0].value;var a=c.reduce(function(d,h){return!d.length||h.type!==z.literal||typeof d[d.length-1]!="string"?d.push(h.value):d[d.length-1]+=h.value,d},[]);return a.length<=1?a[0]||"":a},this.formatToParts=function(f){return $e(i.ast,i.locales,i.formatters,i.formats,f,void 0,i.message)},this.resolvedOptions=function(){var f;return{locale:((f=i.resolvedLocale)===null||f===void 0?void 0:f.toString())||Intl.NumberFormat.supportedLocalesOf(i.locales)[0]}},this.getAst=function(){return i.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),typeof t=="string"){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var u=o||{};u.formatters;var l=uo(u,["formatters"]);this.ast=e.__parse(t,M(M({},l),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Qo(e.formats,r),this.formatters=o&&o.formatters||Yo(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(t){if(!(typeof Intl.Locale>"u")){var n=Intl.NumberFormat.supportedLocalesOf(t);return n.length>0?new Intl.Locale(n[0]):new Intl.Locale(typeof t=="string"?t:t[0])}},e.__parse=ko,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();const ei=Ko;var ti=Object.defineProperty,ni=(e,t,n)=>t in e?ti(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hn=(e,t,n)=>(ni(e,typeof t!="symbol"?t+"":t,n),n);const gt={__scope:{type:Object,default:void 0},__schema:{type:Object,required:!0},__designMode:{type:String,default:"live"},__components:{type:Object,required:!0},__locale:{type:String,default:void 0},__messages:{type:Object,default:()=>({})},__getNode:{type:Function,required:!0},__triggerCompGetCtx:{type:Function,required:!0}},ri=Object.keys(gt),Fe={__comp:{type:Object,default:void 0},__scope:{type:Object,default:()=>({})},__schema:{type:Object,default:()=>({})},__vnodeProps:{type:Object,default:()=>({})}},On=Object.keys(Fe),Bn=Symbol("hocNode"),oi=e=>{const t=p.inject(Bn,null);let n=!1;const r=()=>{n||(n=!0,p.nextTick(()=>{e(),n=!1}))};if(p.provide(Bn,{rerenderSlots:r}),t)return{isRootNode:!1,rerender:r,rerenderParent:t.rerenderSlots};{const{rerender:o}=Be();return{isRootNode:!0,rerender:r,rerenderParent:o}}},ii=p.defineComponent({name:"Hoc",inheritAttrs:!1,props:Fe,setup(e,{slots:t,attrs:n}){const r=p.shallowRef(!0),o=p.shallowRef(e.__schema),i=p.shallowRef(),u=b=>{o.value=b,i.value=$n(b,h).slots},{rerenderParent:l,rerender:f,isRootNode:c}=oi(()=>{const b=h?tt(h):null;b&&u(b)}),a={};p.onUnmounted(()=>Object.keys(a).forEach(b=>{a[b](),delete a[b]}));const{locked:d,node:h,buildSlots:_,getNode:g}=vt(e,(b,E)=>{const y=b.id;if(y){if(E&&a[y])a[y](),delete a[y];else if(!E&&!a[y]){const S=g(y);S&&(a[y]=S.onVisibleChange(()=>f()))}}});h&&(p.onUnmounted(h.onChildrenChange(()=>f())),p.onUnmounted(h.onPropChange(b=>{const{key:E,prop:y,newValue:S}=b;y.path.length===1&&E==="___isLocked___"?d.value=S:l()})),p.onUnmounted(h.onVisibleChange(b=>{c?r.value=b:l()}))),p.watch(()=>e.__schema,b=>u(b));const{triggerCompGetCtx:x}=Be();return()=>{const{__comp:b,__vnodeProps:E}=e,y=Xn(n)[1];return c&&!r.value?null:b?p.h(b,p.mergeProps(y,E,{onVnodeMounted(S){var P;const R=(P=S.component)==null?void 0:P.proxy;R&&x(o.value,R)}}),i.value?_(i.value):t):p.h("div","component not found")}}}),si=p.defineComponent({inheritAttrs:!1,props:Fe,setup:(e,{attrs:t,slots:n})=>{const{triggerCompGetCtx:r}=Be();return()=>{const{__comp:o,__vnodeProps:i,__schema:u}=e,l=Xn(t)[1];return o?p.h(o,p.mergeProps(l,i,{onVnodeMounted(f){var c;const a=(c=f.component)==null?void 0:c.proxy;a&&r(u,a)}}),n):null}}});function ai(e,t={},n="zh-CN",r={}){return!r||!r[n]||!r[n][e]?"":new ei(r[n][e],n).format(t)}function yt(e){return"$"in e}function ui(e){return!e||!V(e)?!1:!!(yt(e)||Object.keys(e).length>0)}function bt(...e){const t=[];if(e.flat().forEach(o=>{ui(o)&&t.push(o)}),t.length<=1)return t[0];const[n,...r]=t;return r.reduce((o,i)=>{if(yt(i)){if(yt(o))return i;{const l=o;o=i,i=l}}const u=Object.getOwnPropertyDescriptors(i);return o=Object.create(o,u),p.isProxy(i)?p.reactive(o):o},n)}function se(e){return e?Array.isArray(e)?e:[e]:[]}const li={JSEXPRESSION:"JSExpression",JSFUNCTION:"JSFunction",JSSLOT:"JSSlot",JSBLOCK:"JSBlock",I18N:"i18n"};function ci(){try{return window.parent!==window&&window.parent.location.host===window.location.host}catch{return!1}}function hi(e,t){return Ve({type:li.JSEXPRESSION,value:`this.i18n('${e.key}')`},t)}function Ve(e,t){try{const n=['"use strict";',"var __self = arguments[0];"];n.push("return ");let r;return r=(e.value||"").trim(),r=r.replace(/this(\W|$)/g,(o,i)=>`__self${i}`),r=n.join(`
`)+r,ci()&&window.parent.__newFunc?window.parent.__newFunc(r)(self):new Function("$scope",`with($scope || {}) { ${r} }`)(t)}catch(n){console.warn("parseExpression.error",n,e,self);return}}function q(e,t){if(be(e)||Ue(e))return Ve(e,t);if(Xr(e))return hi(e,t);if(ye(e))return e.trim();if(Array.isArray(e))return e.map(n=>q(n,t));if(ue(e))return e.bind(t);if(Me(e)){if(!e)return e;const n={};return Object.keys(e).forEach(r=>{r.startsWith("__")||(n[r]=q(e[r],t))}),n}return e}function Et(e,t){const n={};return se(t).forEach((r,o)=>{n[r]=e[o]}),n}function In(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];r==null||r===""||(typeof r=="object"?t.push(`${n}=${encodeURIComponent(JSON.stringify(r))}`):t.push(`${n}=${encodeURIComponent(String(r))}`))}),t.join("&")}function fi(e,t){if(!t)return e;const n=In(t);return n?e.indexOf("?")>0?`${e}&${n}`:`${e}?${n}`:e}function pi(e,t){for(const n in e)if(n.toLowerCase()===t)return[e[n],n];return[]}function di(e){return["arrayBuffer","blob","formData","json","text"].includes(e)}function mi(e){const t=new FormData;for(const n in e){const r=e[n];r instanceof Blob?t.append(n,r):t.append(n,String(r))}return t}const Ln={"application/json":e=>JSON.stringify(e),"multipart/form-data":e=>Me(e)?mi(e):e,"application/x-www-form-urlencoded":e=>In(e)};function gi(e,t){const n=Object.keys(Ln).find(r=>e.includes(r));return n?Ln[n](t):t}class Pe extends Error{constructor(t,n,r){super(t),this.code=n,this.data=r}}class Mn{constructor(t,n){this.code=t,this.data=n}}async function yi(e){const{uri:t,method:n,timeout:r,params:o={},headers:i={},responseType:u="json"}=e;let l;const f={Accept:"application/json",...i},c={method:n,headers:f};if(n==="GET"||n==="DELETE"||n==="OPTIONS")l=fi(t,o);else{l=t;const[h,_]=pi(f,"content-type");c.body=gi(h??"application/json",o),h==="multipart/form-data"&&_&&delete f[_]}if(r){const h=new AbortController;c.signal=h.signal,setTimeout(()=>h.abort(),r)}const a=await fetch(l,c),d=a.status;if(d>=200&&d<300)if(d===204){if(n==="DELETE")return new Mn(d,null);throw new Pe(a.statusText,d)}else{if(!di(u))throw new Pe(`invalid response type: ${u}`,-1);return new Mn(d,await a[u]())}else if(d>=400)try{const h=await a.json();throw new Pe(a.statusText,d,h)}catch{throw new Pe(a.statusText,d)}throw new Pe(a.statusText,d)}var fe=(e=>(e.Initial="init",e.Loading="loading",e.Loaded="loaded",e.Error="error",e))(fe||{});const bi=e=>e,Ei=()=>{},vi=()=>!0;function _i(e,t,n){const r=p.shallowRef(),o=p.shallowRef(),i=p.ref(fe.Initial),u=p.computed(()=>i.value===fe.Loading),l=p.computed(()=>!!q(e.isInit,n)),{willFetch:f,shouldFetch:c,dataHandler:a,errorHandler:d}=e,h={willFetch:f?q(f,n):bi,shouldFetch:c?q(c,n):vi,dataHandler:a?q(a,n):_=>_.data,errorHandler:d?q(d,n):Ei};return p.reactive({data:r,error:o,loading:u,status:i,isInit:l,load:async(_,g={})=>{try{const{type:x,options:b,id:E}=e,{headers:y,assignToScope:S=!0,...P}=g;if(!t)throw new Error("unsupport fetch type: "+x);if(!(ue(h.shouldFetch)?h.shouldFetch():!jr(h.shouldFetch)||h.shouldFetch))throw i.value=fe.Error,new Error(`the ${E} request should not fetch, please check the condition`);const{params:R,headers:N,...O}=q(b??{},n);i.value=fe.Loading;const F=await t(h.willFetch({...O,...P,headers:{...N,...y},params:Me(R)&&Me(_)?{...R,..._}:_??R}));i.value=fe.Loaded;const J=r.value=h.dataHandler(F);return!Gr(r)&&S&&(n[E]=J),J}catch(x){throw i.value=fe.Error,o.value=x,h.errorHandler(x),x}}})}function xi({list:e=[],dataHandler:t},n){const r={},o={};return e.forEach(i=>{const u={dataHandler:t,...i},l=_i(u,yi,n),f=(c,a)=>{const d={assignToScope:!1,...a};return l.load(c,d)};r[i.id]=f,o[i.id]=l}),{dataSource:r,dataSourceMap:o,reloadDataSource:(i,u,l)=>{if(i){const c=o[i];if(!c)throw new Error("dataSource not found, id: "+i);return c.load(u,l)}const f=Object.keys(o).map(c=>o[c]).filter(c=>c.isInit).map(c=>c.load());return Promise.all(f)}}}const Si=he(),Ci={beforeMount:p.onBeforeMount,mounted:p.onMounted,beforeUpdate:p.onBeforeUpdate,updated:p.onUpdated,beforeUnmount:p.onBeforeUnmount,unmounted:p.onUnmounted,errorCaptured:p.onErrorCaptured},Ri={componentDidMount:p.onMounted,componentDidCatch:p.onErrorCaptured,shouldComponentUpdate:p.onBeforeUpdate,componentWillUnmount:p.onBeforeUnmount},Un={...Ci,...Ri};function Ai(e){return e in Un}function Dn(e){return Array.isArray(e)?e.every(t=>Dn(t)):zr(e)||Je(e)||be(e)}const kn=Symbol("IS_LOCKED");function Pi(e){const t=p.ref(e),n=p.inject(kn,null),r=p.computed({get:()=>(n==null?void 0:n.value)||t.value,set:o=>t.value=o});return p.provide(kn,r),r}function vt(e,t=()=>{}){const{components:n,getNode:r,designMode:o}=Be(),i=e.__schema.id?r(e.__schema.id):null,u=i?Pi(i.isLocked):p.ref(!1),l=o==="design";p.provide(Si,{mode:o,node:i,isDesignerEnv:l});const f=(g,x,b,E)=>{const y=bt(e.__scope,b);if(ye(g))return p.createTextVNode(g);if(be(g)){const X=Ve(g,y);return p.createTextVNode(p.toDisplayString(X))}if(!E){const{componentName:X}=g;if(E=n[X],!E&&X!=="Slot")return p.h("div","component not found")}const[S,P,R]=Hi(E);R&&(x=Object.create(x,Object.getOwnPropertyDescriptors(S)));const{show:N,scence:O}=Ni(g,y,l);if(!N)return p.createCommentVNode(`${O} ${N}`);const{props:F,slots:J}=$n(g),{loop:ee,buildLoopScope:Re}=Ti(g,y);if(!ee){const X=_(F,y,null),[Y,te]=Vn(X);return p.h(x,{key:Y.key??g.id,__comp:E,__scope:y,__schema:g,__vnodeProps:Y,...te},a(J))}return Array.isArray(ee)?p.h(p.Fragment,ee.map((X,Y,te)=>{const de=Re(X,Y,te.length),ne=_(F,y,de),[re,me]=Vn(ne);return p.h(x,{key:re.key??`${g.id}--${Y}`,__comp:E,__scope:y,__schema:g,__vnodeProps:re,...me},a(J))})):(console.warn("[vue-renderer]: loop must be array",ee),p.h(p.Fragment,[]))},c=l?(g,x,b)=>{const E=f(g,ii,x,b);return Je(g)&&(E.type===p.Comment?t(g,!1):t(g,!0)),E}:(g,x,b)=>f(g,si,x,b),a=(g,x)=>Object.keys(g).reduce((b,E)=>{const y=g[E],S=E==="default";if(oe(y)||S&&!(i!=null&&i.isContainerNode)&&Array.isArray(y)&&y.length===0)return b;let P;return Array.isArray(y)?P=()=>y.map(R=>c(R,x)).filter(R=>!oe(R)):Ze(y)?y.id?P=(...R)=>{const N=c(y,[x,Et(R,y.params??[])]);return oe(N)?[]:[N]}:P=(...R)=>{const N=Et(R,y.params??[]);return se(y.children).map(O=>c(O,[x,N])).filter(O=>!oe(O))}:P=()=>{const R=c(y,x);return R?[R]:[]},b[E]=S&&l&&i!=null&&i.isContainerNode?wi(P,u):P,b},{}),d=(g,x,b,E)=>{if(be(g)||Ue(g))return Ve(g,x);if(Gt(g)){let y,S;return E!=null&&E.slotNode?(S=E.slotNode.schema,y=Ze(S)?S.params??[]:[]):(S=se(g.value),y=g.params??[]),(...P)=>{const R=Et(P,y),N=[];return se(S).forEach(O=>{const F=c(O,[b,R]);F&&N.push(F)}),N}}else{if(Array.isArray(g))return g.map((y,S)=>d(y,x,b,E==null?void 0:E.get(S)));if(g&&V(g)){const y={};return Object.keys(g).forEach(S=>{if(S.startsWith("__"))return;const P=g[S],R=E==null?void 0:E.get(S);y[S]=d(P,x,b,R)}),y}}return g},h=(g,x,b,E)=>{if(ye(g)){const y=g;let S=null;return P=>{let R=x.$.refs;if(Object.keys(R).length===0&&(R=x.$.refs={}),oe(x.__loopRefIndex))R[y]=P,y in x&&(x[y]=P);else{let N=R[y];if(!Array.isArray(N))N=R[y]=[],y in x&&(N=x[y]=N);else if(y in x){const O=x[y];!Array.isArray(O)||p.toRaw(O)!==N?N=x[y]=N:N=O}if(oe(P)){const O=N.indexOf(S);O>=0&&N.splice(O,1)}else N[x.__loopRefIndex]=P}S=P}}else{const y=d(g,x,b,E);return ye(y)?h(y,x,b,E):y}},_=(g,x,b,E)=>{const y={};Object.keys(g).forEach(R=>{Fn(y,R,g[R])});const S={},P=b?bt(x,b):x;return Object.keys(y).forEach(R=>{const N=y[R];S[R]=R==="ref"?h(N,P,b,i==null?void 0:i.getProp(R)):d(N,P,b,i==null?void 0:i.getProp(R))}),E&&Object.keys(E).forEach(R=>{Fn(S,R,E[R])}),S};return{node:i,locked:u,getNode:r,renderComp:c,buildProps:_,buildSlots:a}}function Gn(e){const{scope:t}=jn(e),n=p.shallowRef(e.__schema);p.watch(()=>e.__schema,l=>n.value=l);const r=p.reactive({__comp:null,__scope:t,__vnodeProps:{},__schema:p.computed(()=>e.__schema)}),o=kt(),i=p.computed(()=>e.__designMode??"live"),u=p.computed(()=>e.__components);return p.provide(o,p.reactive({designMode:i,components:u,getNode:l=>{var f;return((f=e.__getNode)==null?void 0:f.call(e,l))??null},triggerCompGetCtx:p.computed(()=>e.__triggerCompGetCtx),rerender:()=>{const l=n.value.id;if(l&&e.__getNode){const f=e.__getNode(l);n.value=tt(f),p.triggerRef(n)}}})),{scope:t,schema:n,designModeRef:i,componentsRef:u,...vt(r)}}function jn(e){var t;const{__schema:n,__scope:r}=e,{props:o,state:i,methods:u,lifeCycles:l}=n??{},f=p.getCurrentInstance(),c=f.proxy,a=f.data=p.reactive({}),d=q(o)??{};Object.assign(f.props,d);const h=q(i)??{};Object.assign(a,h);const _=q(u,c)??{};Object.assign(c,_);const g=q(l,c);V(g)&&Object.keys(g).forEach(N=>{if(Ai(N)){const O=g[N],F=Un[N];ue(O)&&F(O,f)}});let x=null;n.id&&(x=document.querySelector(`style[data-id="${n.id}"]`)),n.css?(x||(x=document.createElement("style"),n.id&&x.setAttribute("data-id",n.id),(document.head||document.getElementsByTagName("head")[0]).appendChild(x)),x.innerHTML!==n.css&&(x.innerHTML=n.css)):x&&((t=x.parentElement)==null||t.removeChild(x));const b=N=>{Object.keys(N).forEach(O=>{const F=N[O],J=p.isRef(F)?a:c;Reflect.set(J,O,F)})};r&&b(r);const E=(N,O)=>{const{__locale:F,__messages:J}=e;return ai(N,O,F,J)},y=p.computed(()=>e.__locale);b({i18n:E,currentLocale:y});const{dataSource:S,dataSourceMap:P,reloadDataSource:R}=xi(n.dataSource??{list:[],dataHandler:void 0},c);return Object.keys(P).filter(N=>!(N in a)).forEach(N=>a[N]=p.ref()),b({dataSource:S,dataSourceMap:P,reloadDataSource:R}),R(),{scope:c,addToScope:b}}const $n=(e,t)=>{const n={},r={};return n.default=se(e.children),Object.entries(e.props??{}).forEach(([o,i])=>{if(Gt(i)){const u=t==null?void 0:t.getProp(o,!1);if(u&&u.slotNode){const l=u.slotNode.schema;Ze(l)&&(n[o]=l)}else i.value&&(n[o]={componentName:"Slot",params:i.params,children:se(i.value)})}else o==="className"?r.class=i:o==="children"&&Dn(i)?n.default=se(i):r[o]=i}),{props:r,slots:n}},Fn=(e,t,n)=>{if(t.startsWith("v-model")){const r=t.match(/v-model(?::(\w+))?$/);if(!r)return e;const o=zt(r[1]??"modelValue"),i=`onUpdate:${o}`;if(be(n)){const u={type:"JSFunction",value:`function ($event) {${n.value} = $event}`};e[i]=i in e?se(e[i]).concat(u):u}e[o]=n}else if(!(t.startsWith("v-")&&be(n)))if(t.match(/^on[A-Z]/)&&Ue(n)){const r=t.match(/onUpdate(?::?(\w+))$/);r&&(t=`onUpdate:${zt(r[1])}`),e[t]=t in e?se(e[t]).concat(n):n}else if(t==="ref"&&"ref"in e){const r=n,o=e.ref;ue(o)&&ue(r)?e.ref=(...i)=>{r(...i),o(...i)}:e.ref=[o,r].filter(ue).pop()}else e[t]=n},Ti=(e,t)=>{let n=null;const r=["item","index"];return e.loop&&(n=e.loop),e.loopArgs&&e.loopArgs.forEach((o,i)=>{r[i]=o}),{loop:n?q(n,t):null,loopArgs:r,buildLoopScope(o,i,u){const l=t.__loopRefOffset??0,[f,c]=r;return{[f]:o,[c]:i,__loopScope:!0,__loopRefIndex:l+i,__loopRefOffset:u*i}}}},Ni=(e,t,n)=>{const r=n?e.hidden??!1:!1,o=e.condition??!0;return r?{scence:"hidden",show:!1}:{scence:"condition",show:typeof o=="boolean"?o:!!q(o,t)}},wi=(e,t)=>(...n)=>{const r=e(...n);if(!r.length){const o=t.value,i={"lc-container-locked":o,"lc-container-placeholder":!0},u=o?"锁定元素及子元素无法编辑":"拖拽组件或模板到这里";r.push(p.h("div",{class:i},u))}return r},_t=e=>{const t=new Set(ye(e)?e.split(","):Array.isArray(e)?e:[]),n=ue(e)?e:r=>t.has(r);return r=>{const o=Object.keys(r);if(o.every(f=>!n(f)))return[{},r,0];let i=0;const u={},l={};for(const f of o)n(f)?(u[f]=r[f],i++):l[f]=r[f];return[u,l,i]}},Vn=_t("key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hi=_t(e=>!e.match(/^[a-z]+([A-Z][a-z]+)*$/)),Xn=_t(On),Oi=p.defineComponent((e,{slots:t})=>()=>p.h("div",{class:"lc-page",...e},t)),Bi=p.defineComponent({props:gt,__renderer__:!0,setup(e){const{renderComp:t,componentsRef:n,schema:r}=Gn(e);return()=>t(r.value,null,n.value.Page||Oi)}}),zn={PageRenderer:Bi};class Ii{constructor(){Hn(this,"renderers",{...zn}),Hn(this,"configProvider",null)}setConfigProvider(t){this.configProvider=t}getConfigProvider(){return this.configProvider}setRenderers(t){this.renderers=t}getRenderers(){return this.renderers}}const Te=new Ii,qn=p.defineComponent({props:{scope:{type:Object,default:void 0},schema:{type:Object,required:!0},components:{type:Object,required:!0},designMode:{type:String,default:"live"},device:{type:String,default:void 0},locale:{type:String,default:void 0},messages:{type:Object,default:()=>({})},getNode:{type:Function,default:void 0},onCompGetCtx:{type:Function,default:void 0}},setup(e){const t=(i,u)=>{var l;u&&((l=e.onCompGetCtx)==null||l.call(e,i,u))},n=i=>{var u;return((u=e.getNode)==null?void 0:u.call(e,i))??null},r=p.computed(()=>({...Te.getRenderers(),...e.components})),o=()=>{const{value:i}=r,{schema:u,scope:l,locale:f,messages:c,designMode:a}=e;if(!u)return null;const{componentName:d}=u;let h=i[d]||i[`${d}Renderer`];return h&&!h.__renderer__&&(h=zn[`${d}Renderer`]),h?p.h(h,{key:u.__ctx?`${u.__ctx.lceKey}_${u.__ctx.idx||"0"}`:u.id,__scope:l,__schema:u,__locale:f,__messages:c,__components:i,__designMode:a,__getNode:n,__triggerCompGetCtx:t}):null};return()=>{const{device:i,locale:u}=e,l=Te.getConfigProvider();return l?p.h(l,{device:i,locale:u},{default:o}):o()}}});/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const _e=typeof window<"u";function Li(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const G=Object.assign;function xt(e,t){const n={};for(const r in t){const o=t[r];n[r]=K(o)?o.map(e):e(o)}return n}const Ne=()=>{},K=Array.isArray,Mi=/\/$/,Ui=e=>e.replace(Mi,"");function St(e,t,n="/"){let r,o={},i="",u="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(r=t.slice(0,f),i=t.slice(f+1,l>-1?l:t.length),o=e(i)),l>-1&&(r=r||t.slice(0,l),u=t.slice(l,t.length)),r=ji(r??t,n),{fullPath:r+(i&&"?")+i+u,path:r,query:o,hash:u}}function Di(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ki(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&xe(t.matched[r],n.matched[o])&&Wn(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function xe(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Wn(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Gi(e[n],t[n]))return!1;return!0}function Gi(e,t){return K(e)?Jn(e,t):K(t)?Jn(t,e):e===t}function Jn(e,t){return K(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function ji(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let o=n.length-1,i,u;for(i=0;i<r.length;i++)if(u=r[i],u!==".")if(u==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var we;(function(e){e.pop="pop",e.push="push"})(we||(we={}));var Xe;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Xe||(Xe={}));const Ct="";function $i(e){if(!e)if(_e){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Ui(e)}const Fi=/^[^#]+#/;function Vi(e,t){return e.replace(Fi,"#")+t}function Xi(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const zi=()=>({left:window.pageXOffset,top:window.pageYOffset});function qi(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Xi(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Zn(e,t){return(history.state?history.state.position-t:-1)+e}const Rt=new Map;function Wi(e,t){Rt.set(e,t)}function Ji(e){const t=Rt.get(e);return Rt.delete(e),t}function Zi(e=""){let t=[],n=[Ct],r=0;e=$i(e);function o(l){r++,r===n.length||n.splice(r),n.push(l)}function i(l,f,{direction:c,delta:a}){const d={direction:c,delta:a,type:we.pop};for(const h of t)h(l,f,d)}const u={location:Ct,state:{},base:e,createHref:Vi.bind(null,e),replace(l){n.splice(r--,1),o(l)},push(l,f){o(l)},listen(l){return t.push(l),()=>{const f=t.indexOf(l);f>-1&&t.splice(f,1)}},destroy(){t=[],n=[Ct],r=0},go(l,f=!0){const c=this.location,a=l<0?Xe.back:Xe.forward;r=Math.max(0,Math.min(r+l,n.length-1)),f&&i(this.location,c,{direction:a,delta:l})}};return Object.defineProperty(u,"location",{enumerable:!0,get:()=>n[r]}),u}function Qi(e){return typeof e=="string"||e&&typeof e=="object"}function Qn(e){return typeof e=="string"||typeof e=="symbol"}const le={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Yn=Symbol("");var Kn;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Kn||(Kn={}));function Se(e,t){return G(new Error,{type:e,[Yn]:!0},t)}function ae(e,t){return e instanceof Error&&Yn in e&&(t==null||!!(e.type&t))}const er="[^/]+?",Yi={sensitive:!1,strict:!1,start:!0,end:!0},Ki=/[.+*?^${}()[\]/\\]/g;function es(e,t){const n=G({},Yi,t),r=[];let o=n.start?"^":"";const i=[];for(const c of e){const a=c.length?[]:[90];n.strict&&!c.length&&(o+="/");for(let d=0;d<c.length;d++){const h=c[d];let _=40+(n.sensitive?.25:0);if(h.type===0)d||(o+="/"),o+=h.value.replace(Ki,"\\$&"),_+=40;else if(h.type===1){const{value:g,repeatable:x,optional:b,regexp:E}=h;i.push({name:g,repeatable:x,optional:b});const y=E||er;if(y!==er){_+=10;try{new RegExp(`(${y})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${g}" (${y}): `+P.message)}}let S=x?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;d||(S=b&&c.length<2?`(?:/${S})`:"/"+S),b&&(S+="?"),o+=S,_+=20,b&&(_+=-8),x&&(_+=-20),y===".*"&&(_+=-50)}a.push(_)}r.push(a)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const u=new RegExp(o,n.sensitive?"":"i");function l(c){const a=c.match(u),d={};if(!a)return null;for(let h=1;h<a.length;h++){const _=a[h]||"",g=i[h-1];d[g.name]=_&&g.repeatable?_.split("/"):_}return d}function f(c){let a="",d=!1;for(const h of e){(!d||!a.endsWith("/"))&&(a+="/"),d=!1;for(const _ of h)if(_.type===0)a+=_.value;else if(_.type===1){const{value:g,repeatable:x,optional:b}=_,E=g in c?c[g]:"";if(K(E)&&!x)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const y=K(E)?E.join("/"):E;if(!y)if(b)h.length<2&&(a.endsWith("/")?a=a.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);a+=y}}return a||"/"}return{re:u,score:r,keys:i,parse:l,stringify:f}}function ts(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function ns(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const i=ts(r[n],o[n]);if(i)return i;n++}if(Math.abs(o.length-r.length)===1){if(tr(r))return 1;if(tr(o))return-1}return o.length-r.length}function tr(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const rs={type:0,value:""},os=/[a-zA-Z0-9_]/;function is(e){if(!e)return[[]];if(e==="/")return[[rs]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${n})/"${c}": ${_}`)}let n=0,r=n;const o=[];let i;function u(){i&&o.push(i),i=[]}let l=0,f,c="",a="";function d(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:a,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),c="")}function h(){c+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(c&&d(),u()):f===":"?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:f==="("?n=2:os.test(f)?h():(d(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?a[a.length-1]=="\\"?a=a.slice(0,-1)+f:n=3:a+=f;break;case 3:d(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,a="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),u(),o}function ss(e,t,n){const r=es(is(e.path),n),o=G(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function as(e,t){const n=[],r=new Map;t=or({strict:!1,end:!0,sensitive:!1},t);function o(a){return r.get(a)}function i(a,d,h){const _=!h,g=us(a);g.aliasOf=h&&h.record;const x=or(t,a),b=[g];if("alias"in a){const S=typeof a.alias=="string"?[a.alias]:a.alias;for(const P of S)b.push(G({},g,{components:h?h.record.components:g.components,path:P,aliasOf:h?h.record:g}))}let E,y;for(const S of b){const{path:P}=S;if(d&&P[0]!=="/"){const R=d.record.path,N=R[R.length-1]==="/"?"":"/";S.path=d.record.path+(P&&N+P)}if(E=ss(S,d,x),h?h.alias.push(E):(y=y||E,y!==E&&y.alias.push(E),_&&a.name&&!rr(E)&&u(a.name)),g.children){const R=g.children;for(let N=0;N<R.length;N++)i(R[N],E,h&&h.children[N])}h=h||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&f(E)}return y?()=>{u(y)}:Ne}function u(a){if(Qn(a)){const d=r.get(a);d&&(r.delete(a),n.splice(n.indexOf(d),1),d.children.forEach(u),d.alias.forEach(u))}else{const d=n.indexOf(a);d>-1&&(n.splice(d,1),a.record.name&&r.delete(a.record.name),a.children.forEach(u),a.alias.forEach(u))}}function l(){return n}function f(a){let d=0;for(;d<n.length&&ns(a,n[d])>=0&&(a.record.path!==n[d].record.path||!ir(a,n[d]));)d++;n.splice(d,0,a),a.record.name&&!rr(a)&&r.set(a.record.name,a)}function c(a,d){let h,_={},g,x;if("name"in a&&a.name){if(h=r.get(a.name),!h)throw Se(1,{location:a});x=h.record.name,_=G(nr(d.params,h.keys.filter(y=>!y.optional).map(y=>y.name)),a.params&&nr(a.params,h.keys.map(y=>y.name))),g=h.stringify(_)}else if("path"in a)g=a.path,h=n.find(y=>y.re.test(g)),h&&(_=h.parse(g),x=h.record.name);else{if(h=d.name?r.get(d.name):n.find(y=>y.re.test(d.path)),!h)throw Se(1,{location:a,currentLocation:d});x=h.record.name,_=G({},d.params,a.params),g=h.stringify(_)}const b=[];let E=h;for(;E;)b.unshift(E.record),E=E.parent;return{name:x,path:g,params:_,matched:b,meta:cs(b)}}return e.forEach(a=>i(a)),{addRoute:i,resolve:c,removeRoute:u,getRoutes:l,getRecordMatcher:o}}function nr(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function us(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ls(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function ls(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function rr(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function cs(e){return e.reduce((t,n)=>G(t,n.meta),{})}function or(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function ir(e,t){return t.children.some(n=>n===e||ir(e,n))}const sr=/#/g,hs=/&/g,fs=/\//g,ps=/=/g,ds=/\?/g,ar=/\+/g,ms=/%5B/g,gs=/%5D/g,ur=/%5E/g,ys=/%60/g,lr=/%7B/g,bs=/%7C/g,cr=/%7D/g,Es=/%20/g;function At(e){return encodeURI(""+e).replace(bs,"|").replace(ms,"[").replace(gs,"]")}function vs(e){return At(e).replace(lr,"{").replace(cr,"}").replace(ur,"^")}function Pt(e){return At(e).replace(ar,"%2B").replace(Es,"+").replace(sr,"%23").replace(hs,"%26").replace(ys,"`").replace(lr,"{").replace(cr,"}").replace(ur,"^")}function _s(e){return Pt(e).replace(ps,"%3D")}function xs(e){return At(e).replace(sr,"%23").replace(ds,"%3F")}function Ss(e){return e==null?"":xs(e).replace(fs,"%2F")}function ze(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Cs(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const i=r[o].replace(ar," "),u=i.indexOf("="),l=ze(u<0?i:i.slice(0,u)),f=u<0?null:ze(i.slice(u+1));if(l in t){let c=t[l];K(c)||(c=t[l]=[c]),c.push(f)}else t[l]=f}return t}function hr(e){let t="";for(let n in e){const r=e[n];if(n=_s(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(K(r)?r.map(i=>i&&Pt(i)):[r&&Pt(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Rs(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=K(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const As=Symbol(""),fr=Symbol(""),Tt=Symbol(""),pr=Symbol(""),Nt=Symbol("");function He(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function ce(e,t,n,r,o){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,l)=>{const f=d=>{d===!1?l(Se(4,{from:n,to:t})):d instanceof Error?l(d):Qi(d)?l(Se(2,{from:t,to:d})):(i&&r.enterCallbacks[o]===i&&typeof d=="function"&&i.push(d),u())},c=e.call(r&&r.instances[o],t,n,f);let a=Promise.resolve(c);e.length<3&&(a=a.then(f)),a.catch(d=>l(d))})}function wt(e,t,n,r){const o=[];for(const i of e)for(const u in i.components){let l=i.components[u];if(!(t!=="beforeRouteEnter"&&!i.instances[u]))if(Ps(l)){const c=(l.__vccOpts||l)[t];c&&o.push(ce(c,n,r,i,u))}else{let f=l();o.push(()=>f.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${i.path}"`));const a=Li(c)?c.default:c;i.components[u]=a;const h=(a.__vccOpts||a)[t];return h&&ce(h,n,r,i,u)()}))}}return o}function Ps(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function dr(e){const t=p.inject(Tt),n=p.inject(pr),r=p.computed(()=>t.resolve(p.unref(e.to))),o=p.computed(()=>{const{matched:f}=r.value,{length:c}=f,a=f[c-1],d=n.matched;if(!a||!d.length)return-1;const h=d.findIndex(xe.bind(null,a));if(h>-1)return h;const _=mr(f[c-2]);return c>1&&mr(a)===_&&d[d.length-1].path!==_?d.findIndex(xe.bind(null,f[c-2])):h}),i=p.computed(()=>o.value>-1&&ws(n.params,r.value.params)),u=p.computed(()=>o.value>-1&&o.value===n.matched.length-1&&Wn(n.params,r.value.params));function l(f={}){return Ns(f)?t[p.unref(e.replace)?"replace":"push"](p.unref(e.to)).catch(Ne):Promise.resolve()}return{route:r,href:p.computed(()=>r.value.href),isActive:i,isExactActive:u,navigate:l}}const Ts=p.defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:dr,setup(e,{slots:t}){const n=p.reactive(dr(e)),{options:r}=p.inject(Tt),o=p.computed(()=>({[gr(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[gr(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:p.h("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}});function Ns(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ws(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!K(o)||o.length!==r.length||r.some((i,u)=>i!==o[u]))return!1}return!0}function mr(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const gr=(e,t,n)=>e??t??n,Hs=p.defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=p.inject(Nt),o=p.computed(()=>e.route||r.value),i=p.inject(fr,0),u=p.computed(()=>{let c=p.unref(i);const{matched:a}=o.value;let d;for(;(d=a[c])&&!d.components;)c++;return c}),l=p.computed(()=>o.value.matched[u.value]);p.provide(fr,p.computed(()=>u.value+1)),p.provide(As,l),p.provide(Nt,o);const f=p.ref();return p.watch(()=>[f.value,l.value,e.name],([c,a,d],[h,_,g])=>{a&&(a.instances[d]=c,_&&_!==a&&c&&c===h&&(a.leaveGuards.size||(a.leaveGuards=_.leaveGuards),a.updateGuards.size||(a.updateGuards=_.updateGuards))),c&&a&&(!_||!xe(a,_)||!h)&&(a.enterCallbacks[d]||[]).forEach(x=>x(c))},{flush:"post"}),()=>{const c=o.value,a=e.name,d=l.value,h=d&&d.components[a];if(!h)return yr(n.default,{Component:h,route:c});const _=d.props[a],g=_?_===!0?c.params:typeof _=="function"?_(c):_:null,x=E=>{E.component.isUnmounted&&(d.instances[a]=null)},b=p.h(h,G({},g,t,{onVnodeUnmounted:x,ref:f}));return yr(n.default,{Component:b,route:c})||b}}});function yr(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const br=Hs;function Os(e){const t=as(e.routes,e),n=e.parseQuery||Cs,r=e.stringifyQuery||hr,o=e.history,i=He(),u=He(),l=He(),f=p.shallowRef(le);let c=le;_e&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const a=xt.bind(null,s=>""+s),d=xt.bind(null,Ss),h=xt.bind(null,ze);function _(s,m){let v,C;return Qn(s)?(v=t.getRecordMatcher(s),C=m):C=s,t.addRoute(C,v)}function g(s){const m=t.getRecordMatcher(s);m&&t.removeRoute(m)}function x(){return t.getRoutes().map(s=>s.record)}function b(s){return!!t.getRecordMatcher(s)}function E(s,m){if(m=G({},m||f.value),typeof s=="string"){const A=St(n,s,m.path),L=t.resolve({path:A.path},m),W=o.createHref(A.fullPath);return G(A,L,{params:h(L.params),hash:ze(A.hash),redirectedFrom:void 0,href:W})}let v;if("path"in s)v=G({},s,{path:St(n,s.path,m.path).path});else{const A=G({},s.params);for(const L in A)A[L]==null&&delete A[L];v=G({},s,{params:d(s.params)}),m.params=d(m.params)}const C=t.resolve(v,m),T=s.hash||"";C.params=a(h(C.params));const H=Di(r,G({},s,{hash:vs(T),path:C.path})),w=o.createHref(H);return G({fullPath:H,hash:T,query:r===hr?Rs(s.query):s.query||{}},C,{redirectedFrom:void 0,href:w})}function y(s){return typeof s=="string"?St(n,s,f.value.path):G({},s)}function S(s,m){if(c!==s)return Se(8,{from:m,to:s})}function P(s){return O(s)}function R(s){return P(G(y(s),{replace:!0}))}function N(s){const m=s.matched[s.matched.length-1];if(m&&m.redirect){const{redirect:v}=m;let C=typeof v=="function"?v(s):v;return typeof C=="string"&&(C=C.includes("?")||C.includes("#")?C=y(C):{path:C},C.params={}),G({query:s.query,hash:s.hash,params:"path"in C?{}:s.params},C)}}function O(s,m){const v=c=E(s),C=f.value,T=s.state,H=s.force,w=s.replace===!0,A=N(v);if(A)return O(G(y(A),{state:typeof A=="object"?G({},T,A.state):T,force:H,replace:w}),m||v);const L=v;L.redirectedFrom=m;let W;return!H&&ki(r,C,v)&&(W=Se(16,{to:L,from:C}),qe(C,C,!0,!1)),(W?Promise.resolve(W):J(L,C)).catch(Z=>ae(Z)?ae(Z,2)?Z:Oe(Z):re(Z,L,C)).then(Z=>{if(Z){if(ae(Z,2))return O(G({replace:w},y(Z.to),{state:typeof Z.to=="object"?G({},T,Z.to.state):T,force:H}),m||L)}else Z=Re(L,C,!0,w,T);return ee(L,C,Z),Z})}function F(s,m){const v=S(s,m);return v?Promise.reject(v):Promise.resolve()}function J(s,m){let v;const[C,T,H]=Bs(s,m);v=wt(C.reverse(),"beforeRouteLeave",s,m);for(const A of C)A.leaveGuards.forEach(L=>{v.push(ce(L,s,m))});const w=F.bind(null,s,m);return v.push(w),Ce(v).then(()=>{v=[];for(const A of i.list())v.push(ce(A,s,m));return v.push(w),Ce(v)}).then(()=>{v=wt(T,"beforeRouteUpdate",s,m);for(const A of T)A.updateGuards.forEach(L=>{v.push(ce(L,s,m))});return v.push(w),Ce(v)}).then(()=>{v=[];for(const A of s.matched)if(A.beforeEnter&&!m.matched.includes(A))if(K(A.beforeEnter))for(const L of A.beforeEnter)v.push(ce(L,s,m));else v.push(ce(A.beforeEnter,s,m));return v.push(w),Ce(v)}).then(()=>(s.matched.forEach(A=>A.enterCallbacks={}),v=wt(H,"beforeRouteEnter",s,m),v.push(w),Ce(v))).then(()=>{v=[];for(const A of u.list())v.push(ce(A,s,m));return v.push(w),Ce(v)}).catch(A=>ae(A,8)?A:Promise.reject(A))}function ee(s,m,v){for(const C of l.list())C(s,m,v)}function Re(s,m,v,C,T){const H=S(s,m);if(H)return H;const w=m===le,A=_e?history.state:{};v&&(C||w?o.replace(s.fullPath,G({scroll:w&&A&&A.scroll},T)):o.push(s.fullPath,T)),f.value=s,qe(s,m,v,w),Oe()}let X;function Y(){X||(X=o.listen((s,m,v)=>{if(!We.listening)return;const C=E(s),T=N(C);if(T){O(G(T,{replace:!0}),C).catch(Ne);return}c=C;const H=f.value;_e&&Wi(Zn(H.fullPath,v.delta),zi()),J(C,H).catch(w=>ae(w,12)?w:ae(w,2)?(O(w.to,C).then(A=>{ae(A,20)&&!v.delta&&v.type===we.pop&&o.go(-1,!1)}).catch(Ne),Promise.reject()):(v.delta&&o.go(-v.delta,!1),re(w,C,H))).then(w=>{w=w||Re(C,H,!1),w&&(v.delta&&!ae(w,8)?o.go(-v.delta,!1):v.type===we.pop&&ae(w,20)&&o.go(-1,!1)),ee(C,H,w)}).catch(Ne)}))}let te=He(),de=He(),ne;function re(s,m,v){Oe(s);const C=de.list();return C.length?C.forEach(T=>T(s,m,v)):console.error(s),Promise.reject(s)}function me(){return ne&&f.value!==le?Promise.resolve():new Promise((s,m)=>{te.add([s,m])})}function Oe(s){return ne||(ne=!s,Y(),te.list().forEach(([m,v])=>s?v(s):m()),te.reset()),s}function qe(s,m,v,C){const{scrollBehavior:T}=e;if(!_e||!T)return Promise.resolve();const H=!v&&Ji(Zn(s.fullPath,0))||(C||!v)&&history.state&&history.state.scroll||null;return p.nextTick().then(()=>T(s,m,H)).then(w=>w&&qi(w)).catch(w=>re(w,s,m))}const ge=s=>o.go(s);let Ae;const Q=new Set,We={currentRoute:f,listening:!0,addRoute:_,removeRoute:g,hasRoute:b,getRoutes:x,resolve:E,options:e,push:P,replace:R,go:ge,back:()=>ge(-1),forward:()=>ge(1),beforeEach:i.add,beforeResolve:u.add,afterEach:l.add,onError:de.add,isReady:me,install(s){const m=this;s.component("RouterLink",Ts),s.component("RouterView",br),s.config.globalProperties.$router=m,Object.defineProperty(s.config.globalProperties,"$route",{enumerable:!0,get:()=>p.unref(f)}),_e&&!Ae&&f.value===le&&(Ae=!0,P(o.location).catch(T=>{}));const v={};for(const T in le)v[T]=p.computed(()=>f.value[T]);s.provide(Tt,m),s.provide(pr,p.reactive(v)),s.provide(Nt,f);const C=s.unmount;Q.add(s),s.unmount=function(){Q.delete(s),Q.size<1&&(c=le,X&&X(),X=null,f.value=le,Ae=!1,ne=!1),C()}}};return We}function Ce(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function Bs(e,t){const n=[],r=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let u=0;u<i;u++){const l=t.matched[u];l&&(e.matched.find(c=>xe(c,l))?r.push(l):n.push(l));const f=e.matched[u];f&&(t.matched.find(c=>xe(c,f))||o.push(f))}return[n,r,o]}const Is=p.defineComponent({props:{simulator:{type:Object,required:!0}},render(){const{simulator:e,$slots:t}=this,{layout:n,getComponent:r}=e;if(n){const{Component:o,props:i={},componentName:u}=n;if(o)return p.h(o,{...i,key:"layout",simulator:e},t);const l=u&&r(u);if(l)return p.h(l,{...i,key:"layout",simulator:e},t)}return p.renderSlot(t,"default")}}),Ls=p.defineComponent({props:{simulator:{type:Object,required:!0}},render(){const{simulator:e}=this;return p.h(Is,{simulator:e},{default:()=>p.h(br)})}}),Ms=p.defineComponent({props:{simulator:{type:Object,required:!0},documentInstance:{type:Object,required:!0}},render(){const{documentInstance:e,simulator:t}=this,{schema:n,scope:r,messages:o}=e,{designMode:i,device:u,locale:l,components:f}=t;return t.autoRender?p.h(qn,{scope:r,schema:n,locale:l,device:u,messages:o,components:f,designMode:i,getNode:c=>e.getNode(c),onCompGetCtx:(c,a)=>e.mountInstance(c.id,a)}):null}}),Er=p.defineComponent({name:"Leaf",render(){return p.renderSlot(this.$slots,"default")}});Object.assign(Er,{displayName:"Leaf",componentMetadata:{componentName:"Leaf",configure:{props:[{name:"children",setter:"StringSetter"}],supports:!1}}});const vr=p.defineComponent({render(){return p.h("div",{class:"lc-container"},this.$slots)}});Object.assign(vr,{displayName:"Slot",componentMetadata:{componentName:"Slot",configure:{props:[{name:"___title",title:"插槽标题",setter:"StringSetter",defaultValue:"插槽容器"},{name:"___params",title:"插槽入参",setter:{componentName:"ArraySetter",props:{itemSetter:{componentName:"StringSetter",props:{placeholder:"参数名称"}}}}}],component:{isContainer:!0,disableBehaviors:"*"},supports:!1}}});const _r=p.defineComponent((e,{slots:t})=>()=>p.h("div",{class:"lc-page",...e},t));Object.assign(_r,{displayName:"Page",componentMetadata:{componentName:"Page",configure:{supports:{style:!0,className:!0},component:{isContainer:!0,disableBehaviors:"*"}}}});const $=window.LCSimulatorHost,xr=document.createRange();function Sr(e){return e.parentNode?Vr(e)?[e.getBoundingClientRect()]:(xr.selectNode(e),Array.from(xr.getClientRects())):[]}const Ht=Symbol("_LCDocId"),Cr=Symbol("_LCNodeId"),Rr=Symbol("_LCVueInstance"),Ar=Symbol("_LCVueCompRecord");function Pr(e){return V(e)&&!oe(e.__vueParentComponent)}function Tr(e){return V(e)&&Ht in e}function Us(e){return V(e)&&Ar in e}function Ot(e,t,n){return{did:e,nid:t,cid:n,[Ar]:!0}}function Bt(e){return{docId:e[Ht],nodeId:e[Cr],instance:e[Rr]}}function Ds(e,t){e[Ht]=t.docId,e[Cr]=t.nodeId,e[Rr]=t.instance}function ks(e){return e.nodeType===8}function Gs(e){return e.nodeType===3}function js(e){return V(e)&&"nodeType"in e&&(e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE)}function It(e){return ks(e)||Gs(e)&&e.nodeValue===""}function $s(e,t){return document.contains(e)?Fs(e,t):null}function Fs(e,t){for(;e;){if(Pr(e)){const n=e.__vueParentComponent;return Nr(n,t)}if(Tr(e)){const{nodeId:n,docId:r,instance:o}=Bt(e);if(!t||t===n)return{docId:r,nodeId:n,instance:Ot(r,n,o.$.uid)}}e=e.parentElement}return null}function Nr(e,t){for(;e;){const n=e.vnode.el;if(n&&Tr(n)){const{nodeId:r,docId:o,instance:i}=Bt(n);if(!t||t===r)return{docId:o,nodeId:r,instance:Ot(o,r,i.$.uid)}}e=e.parent}return null}function Vs(e){const t=[],n=e.$el;if(It(n)){const r=e.$;wr(t,r,n,o=>o.previousSibling),Lt(t,r),wr(t,r,n,o=>o.nextSibling)}else t.push(n);return t}function wr(e,t,n,r){let o=r(n);for(;o;){if(It(o)){o=r(o);continue}if(Pr(o)){const i=o.__vueParentComponent;if(Br(t,i)){e.unshift(o),o=r(o);continue}}break}}function Lt(e,t){const n=t.subTree,r=n.el;return Or(r)?(e.push(r),!0):Array.isArray(n.children)&&n.children.length>0?Hr(e,n.children):n.component?Lt(e,n.component):!1}function Hr(e,t){const n=t.map(({el:r})=>r).filter(Or);return n.length>0?(e.push(...n),!0):t.length>0&&t.some(r=>Array.isArray(r.children)&&r.children.length>0?Hr(e,r.children.filter(o=>p.isVNode(o))):r.component?Lt(e,r.component):!1)}function Or(e){return e&&js(e)&&!It(e)?Sr(e).some(n=>n.width||n.height):!1}function Br(e,t){return t==null||e.uid>t.uid?!1:e.uid===t.uid?!0:Br(e,t.parent)}function Mt(...e){return console.warn("[vue-simulator-renderer]:",...e)}class Xs{constructor(){Ur(this,"states",new Set)}setDragging(t){t?this.addState("dragging"):this.removeState("dragging")}setXResizing(t){t?this.addState("x-resizing"):this.removeState("x-resizing")}setYResizing(t){t?this.addState("y-resizing"):this.removeState("y-resizing")}setCopy(t){t?this.addState("copy"):this.removeState("copy")}isCopy(){return this.states.has("copy")}release(){for(const t of this.states)this.removeState(t)}addState(t){this.states.has(t)||(this.states.add(t),document.documentElement.classList.add(`lc-cursor-${t}`))}removeState(t){this.states.has(t)&&(this.states.delete(t),document.documentElement.classList.remove(`lc-cursor-${t}`))}}const Ut=new Xs;let Ir=!0;const Lr=e=>Ir?null:(e.preventDefault(),e.stopPropagation(),!1);document.addEventListener("selectstart",Lr,!0),document.addEventListener("dragstart",Lr,!0);function zs(e){Ir=e}function Mr(e,t){if(V(e)&&V(t)){const n=Object.assign({},e);return Object.keys(t).forEach(r=>{Reflect.set(n,r,Mr(e[r],t[r]))}),n}return t??e}const qs=new oo,Ws={Slot:vr,Leaf:Er,Page:_r};function Js(e,t){const n=new Map,r=new Map,o=p.ref(Date.now()),i=p.computed(()=>tt(e)),u=h=>h.$.isMounted,l=(h,_,g)=>{const x=g?g.map(b=>Ot(h,_,b.$.uid)):null;$.setInstance(h,_,x)},f=h=>r.get(h),c=(h,_)=>{const g=e.id;if(_==null){let y=n.get(h);y&&(y=y.filter(u),y.length>0?(n.set(h,y),l(g,h,y)):(n.delete(h),l(g,h,null)));return}const x=_.$el,b=Bt(x).nodeId;b&&b!==h&&a(b,_),p.onUnmounted(()=>a(h,_),_.$),Ds(x,{nodeId:h,docId:g,instance:_});let E=n.get(h);if(E){const y=E.length;E=E.filter(u);let S=E.length!==y;if(E.includes(_)||(E.push(_),S=!0),!S)return}else E=[_];r.set(_.$.uid,_),n.set(h,E),l(g,h,E)},a=(h,_)=>{const g=n.get(h);if(g){const x=g.indexOf(_);if(x>-1){const[b]=g.splice(x,1);r.delete(b.$.uid),l(e.id,h,g)}}},d=h=>h?e.getNode(h):null;return p.reactive({id:p.computed(()=>e.id),path:p.computed(()=>{const{fileName:h}=i.value;return h.startsWith("/")?h:`/${h}`}),key:p.computed(()=>`${e.id}:${o.value}`),scope:p.computed(()=>{const h=i.value,{utils:_,constants:g,...x}=t.appHelper;return{utils:{..._,...$t($.libraryMap,Reflect.get(h,"utils")??[])},constants:{...g,...Reflect.get(h,"constants")},...x}}),schema:i,document:p.computed(()=>e),messages:p.computed(()=>Mr(t.i18n,Reflect.get(i.value,"i18n"))),instancesMap:p.computed(()=>n),getNode:d,mountInstance:c,unmountIntance:a,getComponentInstance:f,rerender:()=>void(o.value=Date.now())})}function Zs(){const e=p.shallowRef({}),t=p.shallowRef("default"),n=p.shallowRef(),r=p.shallowRef($.autoRender),o=p.shallowRef("design"),i=p.shallowRef({}),u=p.shallowRef({}),l=p.shallowRef({}),f=p.shallowRef({}),c=p.shallowRef([]),a=p.reactive({i18n:{},appHelper:{utils:{},constants:{}}}),d=[],h=new Map;function _(){u.value={...Ws,...Qr(i.value,l.value,g.createComponent)}}const g=p.reactive({config:p.markRaw(Te),layout:e,device:t,designMode:o,libraryMap:i,components:u,autoRender:r,componentsMap:l,documentInstances:c,requestHandlersMap:f,isSimulatorRenderer:!0});g.app=p.markRaw(p.createApp(Ls,{simulator:g})),g.router=p.markRaw(Os({history:Zi("/"),routes:[]})),g.getComponent=b=>{const E=b.split("."),y=[];for(;E.length>0;){const S=u.value[b];if(S)return jt(S,y);const P=E.pop();if(!P)break;y.unshift(P),b=E.join(".")}return null},g.getClosestNodeInstance=(b,E)=>{if(Us(b)){const{cid:y,did:S}=b,P=h.get(S),R=(P==null?void 0:P.getComponentInstance(y))??null;return R&&Nr(R.$,E)}return $s(b,E)},g.findDOMNodes=b=>{if(b){const{did:E,cid:y}=b,S=h.get(E),P=S==null?void 0:S.getComponentInstance(y);return P?Vs(P):null}return null},g.getClientRects=b=>Sr(b),g.setNativeSelection=b=>zs(b),g.setDraggingState=b=>Ut.setDragging(b),g.setCopyState=b=>Ut.setCopy(b),g.clearState=()=>Ut.release(),g.createComponent=()=>null,g.rerender=()=>c.value.forEach(b=>b.rerender()),g.dispose=()=>{g.app.unmount(),d.forEach(b=>b())},g.getCurrentDocument=()=>{const b=$.project.currentDocument,E=c.value;return b?E.find(y=>y.id===b.id)??null:null};let x=!1;return g.run=()=>{if(x)return;x=!0;const b="app";let E=document.getElementById(b);E||(E=document.createElement("div"),document.body.appendChild(E),E.id=b),document.documentElement.classList.add("engine-page"),document.body.classList.add("engine-document"),g.app.use(g.router).mount(E),$.project.setRendererReady(g)},d.push($.connect(g,()=>{e.value=$.project.get("config").layout,(i.value!==$.libraryMap||l.value!==$.designer.componentsMap)&&(i.value=$.libraryMap||{},l.value=$.designer.componentsMap,_()),n.value=$.locale,t.value=$.device,o.value=$.designMode,f.value=$.requestHandlersMap})),d.push($.autorun(()=>{const{router:b}=g;c.value=$.project.documents.map(y=>{let S=h.get(y.id);return S||(S=Js(y,a),h.set(y.id,S),b.addRoute({name:S.id,path:S.path,component:Ms,props:()=>({key:S==null?void 0:S.key,documentInstance:S,simulator:g})})),S}),b.getRoutes().forEach(y=>{const S=y.name;c.value.some(R=>R.id===S)||(b.removeRoute(S),h.delete(S))});const E=g.getCurrentDocument();E&&E.id!==b.currentRoute.value.name&&b.replace({name:E.id})})),$.componentsConsumer.consume(async b=>{b&&(await qs.load(b),_())}),$.injectionConsumer.consume(b=>{if(b.appHelper){const{utils:E,constants:y,...S}=b.appHelper;Object.assign(a.appHelper,{utils:Array.isArray(E)?$t($.libraryMap,E):E??{},constants:y??{},...S})}a.i18n=b.i18n??{}}),g}const Dt=Zs(),ea="",pe=window;typeof pe<"u"&&(pe.SimulatorRenderer=Dt),pe.addEventListener("load",()=>{pe.__VUE_HMR_RUNTIME__||(Mt("检测到您正在使用 vue 运行时的生产环境版本"),Mt("这将导致画布的部分功能异常，请使用非生产环境版本代替"),Mt("https://unpkg.com/vue/dist/vue.runtime.global.js"))}),pe.addEventListener("beforeunload",()=>{pe.LCSimulatorHost=null,pe.SimulatorRenderer=null,Dt.dispose()}),D.VueRenderer=qn,D.baseRendererPropKeys=ri,D.config=Te,D.default=Dt,D.leafPropKeys=On,D.leafProps=Fe,D.mergeScope=bt,D.parseSchema=q,D.rendererProps=gt,D.useLeaf=vt,D.useRenderer=Gn,D.useRootScope=jn,D.vueRendererConfig=Te,Object.defineProperties(D,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
